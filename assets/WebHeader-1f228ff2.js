import{H as p,I as f,s as j,_ as w,u as z,V as H,a as A,o as h,c as g,b as m,w as R,q as C,T as V,d as s,e as v,f as k,t as _,p as O,h as x,k as I,n as G,g as X,x as Z,W as q,Q as K,R as $,y as ee,j as te,X as se}from"./index-c8d0b614.js";import{b as Q,m as J,_ as oe}from"./text-banner-097a7b20.js";import{a as ne,E as D,_ as ae}from"./logo-header-14fc0ac9.js";import{S as re}from"./SquareSpinner-0344fe63.js";import{d as ie}from"./index-c504ce58.js";const ce="https://icpc1hn.work/NHATHUOC/",ns="WEB/GetShopLst",le="WEB/GetProductGroupLst",ue="WEB/GetProductInfo",de="WEB/GetDefaultValueWeb",M="WEB/GetDefaultValueWeb",he="WEB/GetItemLstWithOption",ge="WEB/GetItemHotLst",me="WEB/GetItemLst";function S(e,t){const n=p(null),i=p(null),a=p(!1),o={baseURL:ce,timeout:3e4};return{data:n,error:i,isLoading:a,post:async()=>{try{a.value=!0;const r=await ne.create(o).post(e,t);if(r.status!=200)throw new Error("Something went wrong");a.value=!1;const u=r.data,c=u.RespCode,d=u.RespText;switch(c){case 0:n.value=u;break;case-1:i.value={type:D.RequestError,message:"Hết hạn phiên đăng nhập. Vui lòng đăng nhập lại để tiếp tục"};break;default:c%10==9?i.value={type:D.RequestError,message:"Hệ thống đang bận, bạn vui lòng thử lại sau giây lát"}:i.value={type:D.RequestError,message:d};break}}catch{i.value={type:D.RequestError,message:"Không thể kết nối tới máy chủ, bạn vui lòng thử lại sau giây lát."},a.value=!1}}}}function Y(){const e={},{data:t,error:n,isLoading:i,post:a}=S(le,e);a();let o=p({});return f(t,l=>{l.ProductGroupLst&&(o.value=_e(l.ProductGroupLst))}),{error:n,isLoading:i,categoryGroup:o,fetchData:a}}function _e(e){return e?e.reduce((t,n)=>{const{GLevel1:i,GLevel2:a,GLevel3:o}=n;return t[i]||(t[i]={}),t[i][a]||(t[i][a]=[]),t[i][a][o]||o!=""&&t[i][a].push(o),t},{}):{}}function as(e){const t={ProductID:e};var n=p({});const{data:i,error:a,isLoading:o,post:l}=S(ue,t);return f(i,r=>{r.ProductInfo&&(n.value=F(r.ProductInfo))}),{productInfo:n,error:a,isLoading:o,fetchData:l}}function F(e){let t=e.LinkImage;t?t=t.split("&Ratio=")[0]+"&Ratio=":t="#";let n=e.LinkImageKM;n?n=n.split("&Ratio=")[0]+"&Ratio=":n="#";let i=[];e.Description&&(i=pe(e.Description));var a="";e.ProductName2?a=e.ProductName2:a=e.ProductName;var o=[];return e.ProductPackageLst&&(o=e.ProductPackageLst.map(l=>({id:l.RowID,name:l.UnitOfMeasure,price:l.UnitPrice}))),{imgUrl:t,promoImgUrl:n,id:e.ProductID,name:a,type:e.ProductType,storageCondition:e.StorageCondition,unit:e.UnitOfMeasure,price:e.UnitPrice,bodyOrgans:e.PharmacologicalType,pharmacyType:e.BodyOrgan,purpose:e.OtherType,category1:e.GLevel1,category2:e.GLevel2,category3:e.GLevel3,isHot:e.IsHot,dosageForm:e.DosageForm,pharmacologicalType:e.PharmacologicalType,desc:i,packing:e.Packing,manufacturer:e.ManufacturerName,madeIn:e.Distributor,packingTypes:o}}function pe(e){try{const n=JSON.parse(e);var t=[];return n.Element&&t.push({index:t.length,name:"Thành phần",content:n.Element}),n.Effects&&t.push({index:t.length,name:"Công dụng",content:n.Uses}),n.Uses&&t.push({index:t.length,name:"Cách dùng",content:n.Uses}),n.Point&&t.push({index:t.length,name:"Chỉ định",content:n.Point}),n.Contraindications&&t.push({index:t.length,name:"Chống chỉ định",content:n.Contraindications}),n.Preserve&&t.push({index:t.length,name:"Bảo quản",content:n.Preserve}),t}catch{return[{index:0,name:"Thông tin sản phẩm",content:e}]}}function rs(e,t){var n={TableName:"DosageForm",GLevel1:e??"",GLevel2:t??""},i=p([]);const{data:a,error:o,isLoading:l,post:r}=S(de,n);return r(),f(a,u=>{u.DefaultValueLst&&(i.value=u.DefaultValueLst.map(c=>c.TableValue))}),{dosageForms:i,error:o,isLoading:l,reloadDosageForm:r}}function is(e,t){var n={TableName:"ManufacturerName",GLevel1:e??"",GLevel2:t??""},i=p([]);const{data:a,error:o,isLoading:l,post:r}=S(M,n);return r(),f(a,u=>{u.DefaultValueLst&&(i.value=u.DefaultValueLst.map(c=>c.TableValue))}),{brands:i,error:o,isLoading:l,reloadBrands:r}}function cs(e,t){var n={TableName:"Distributor",GLevel1:e??"",GLevel2:t??""},i=p([]);const{data:a,error:o,isLoading:l,post:r}=S(M,n);return r(),f(a,u=>{u.DefaultValueLst&&(i.value=u.DefaultValueLst.map(c=>c.TableValue))}),{origins:i,error:o,isLoading:l,reloadOrigins:r}}function ls(e,t,n,i,a,o,l,r){const u={Distributor:l,DosageForm:a,GLevel1:n,GLevel2:i||"",ManufacturerName:o,NumberRow:t,OrderByType:1,PageNumber:e,Search:r||""},{data:c,error:d,isLoading:b,post:L}=S(he,u);L();var P=p([]),B=p(0);return f(c,y=>{y.NumberPage&&(B.value=y.NumberPage),y.ProductPostLst&&(P.value=y.ProductPostLst.map(U=>F(U)))}),{products:P,pageSum:B,error:d,isLoading:b,reloadProducts:L}}function us(e,t,n,i,a,o,l,r){const u={Distributor:l,DosageForm:a,GLevel1:"",GLevel2:"",ManufacturerName:o,NumberRow:t,OrderByType:1,PageNumber:e,Search:r||""},{data:c,error:d,isLoading:b,post:L}=S(ge,u);L();var P=p([]),B=p(0);return f(c,y=>{y.NumberPage&&(B.value=y.NumberPage),y.ProductPostLst&&(P.value=y.ProductPostLst.map(U=>F(U)))}),{products:P,pageSum:B,error:d,isLoading:b,reloadHotProducts:L}}function Ae(e,t){const n={NumberRow:t,PageNumber:1,Search:e},{data:i,error:a,isLoading:o,post:l}=S(me,n);l();var r=p([]);return f(i,u=>{u.ProductPostLst&&(r.value=u.ProductPostLst.map(c=>F(c)))}),{products:r,error:a,isLoading:o,reloadData:l}}const E="productCategoryKey",W=j("product-category",{state:()=>{let e=sessionStorage.getItem(E);if(e)return{groups:JSON.parse(e)};{const{categoryGroup:t}=Y();return f(t,n=>{sessionStorage.setItem(E,JSON.stringify(n))}),{groups:t}}},getters:{categoryGroups:e=>e.groups,categories1:e=>Object.keys(e.groups).sort(),getCategories2:e=>t=>{const n=e.groups[t];return n?Object.keys(n).sort():[]},getCategories3:e=>(t,n)=>e.groups[t]?e.groups[t][n]:[]},actions:{fetchCategory(){if(!sessionStorage.getItem(E)){const{categoryGroup:t}=Y();f(t,n=>{sessionStorage.setItem(E,JSON.stringify(n)),this.groups=n})}}}}),ve="data:image/png;base64,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";const fe={setup(){return{productCategoryStore:W(),buyProductHotline:Q}},props:{showNav:{type:Boolean,default:!1}},emits:["onCloseNav"],data(){return{contacts:[{id:"mess",link:J.link,img:J.imgUrl}],itemsShow:[10,10,10,10,10,10,10,10,10]}},methods:{handleCloseButtonTap(){this.$emit("onCloseNav")},onCategoryClick(){this.itemsShow=this.itemsShow.map(()=>10)},readMore(){this.itemsShow=this.itemsShow.map(e=>e+10)},pushToCategory1(e){this.$emit("onCloseNav"),z(e)},pushToCategory2(e,t){this.$emit("onCloseNav"),H(e,t)},openSocialLink(e){window.open(e.link,"_blank")}},computed:{categories1(){return this.productCategoryStore.categories1},catagories2(){return this.categories1.map(e=>this.productCategoryStore.getCategories2(e))},catagories2Filtered(){return this.catagories2.map((e,t)=>e.slice(0,this.itemsShow[t]))}}},T=e=>(O("data-v-2df252b6"),e=e(),x(),e),ye={key:0,class:"nav"},Ce=T(()=>s("div",{class:"nav-header"},[s("img",{src:ve,alt:"",class:"nav-header__img"}),s("div",{class:"nav-header__content"},[s("p",{class:"nav-header__title-1"},"Nhà thuốc"),s("p",{class:"nav-header__title-2"},"Upharma")])],-1)),ke={class:"nav-content"},Se={class:"history"},be={class:"history__icon items-center"},Ie=T(()=>s("div",{class:"history__title"},"Tra cứu lịch sử mua hàng",-1)),Le=T(()=>s("div",{class:"category-title"},"Danh mục sản phẩm",-1)),Pe={class:"accordion accordion-flush",id:"accordionMenu"},Be=["id"],we=["data-bs-target"],Te=["id","aria-labelledby"],Ne=["onClick"],De=["onClick"],Ee={class:"type__title fs-r-14"},Ge=["onClick"],Oe={class:"nav-footer"},xe=T(()=>s("div",{class:"nav-footer__title"},"Liên hệ chúng tôi",-1)),Fe={class:"nav-footer__content"},Ue={class:"hotline"},Re=T(()=>s("div",{class:"hotline__title"},"Gọi tổng đài",-1)),Ve=["href"],He={class:"social"},We=["onClick"],Je=["src"];function Ye(e,t,n,i,a,o){const l=A("font-awesome-icon");return h(),g(v,null,[m(V,{name:"nav-fade"},{default:R(()=>[n.showNav?(h(),g("div",{key:0,class:"nav__bg",onClick:t[0]||(t[0]=(...r)=>o.handleCloseButtonTap&&o.handleCloseButtonTap(...r))})):C("",!0)]),_:1}),m(V,{name:"slide"},{default:R(()=>[n.showNav?(h(),g("div",ye,[s("button",{class:"nav__close-btn",onClick:t[1]||(t[1]=(...r)=>o.handleCloseButtonTap&&o.handleCloseButtonTap(...r))},[m(l,{icon:"xmark",size:"2x",style:{color:"white"}})]),Ce,s("div",ke,[s("div",Se,[s("div",be,[m(l,{icon:"clock-rotate-left",size:"lg"})]),Ie]),Le,s("div",Pe,[(h(!0),g(v,null,k(o.categories1,(r,u)=>(h(),g("div",{class:"accordion-item",key:u},[s("h2",{class:"accordion-header",id:`headingProduct${u}`},[s("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapseProduct${u}`,"aria-expanded":"false","aria-controls":"collapseProduct",onClick:t[2]||(t[2]=(...c)=>o.onCategoryClick&&o.onCategoryClick(...c))},_(r),9,we)],8,Be),s("div",{id:`collapseProduct${u}`,class:"accordion-collapse collapse","aria-labelledby":`headingProduct${u}`,"data-bs-parent":"#accordionMenu"},[s("div",{class:"accordion-collapse__all",onClick:c=>o.pushToCategory1(r)}," Xem tất cả "+_(r),9,Ne),(h(!0),g(v,null,k(o.catagories2Filtered[u],(c,d)=>(h(),g("div",{class:"accordion-body",key:d},[s("div",{class:"type",onClick:b=>o.pushToCategory2(r,c)},[s("div",Ee,_(c),1)],8,De)]))),128)),o.catagories2[u].length>=a.itemsShow[u]?(h(),g("button",{key:0,class:"read-more-btn",onClick:c=>o.readMore(u)}," Xem thêm ",8,Ge)):C("",!0)],8,Te)]))),128))])]),s("div",Oe,[xe,s("div",Fe,[s("div",Ue,[Re,s("a",{class:"hotline__content",href:`tel:${i.buyProductHotline.phone}`},_(i.buyProductHotline.display),9,Ve)]),s("div",He,[(h(!0),g(v,null,k(a.contacts,r=>(h(),g("div",{key:r.id,class:"social__item",onClick:u=>o.openSocialLink(r)},[s("img",{class:"social__img",src:r.img},null,8,Je)],8,We))),128))])])])])):C("",!0)]),_:1})],64)}const ze=w(fe,[["render",Ye],["__scopeId","data-v-2df252b6"]]);const Qe={props:{title:{type:String,required:!0},subItems:{type:Array,required:!0,default:()=>[]}},data(){return{isOpen:!1}},computed:{isDropdownHide(){return this.subItems.length===0}},watch:{isOpen(e){this.$emit("isOpen",e,this.isDropdownHide)}},methods:{onCategory1Click(e){this.isOpen=!1,z(e)},onCategory2Click(e,t){this.isOpen=!1,H(e,t)}}},Me=e=>(O("data-v-d749e22f"),e=e(),x(),e),je={key:0,class:"menu-item__title-border"},Xe={key:0,class:"sub-menu"},Ze=Me(()=>s("p",null,"Xem tất cả",-1)),qe=["onClick"];function Ke(e,t,n,i,a,o){const l=A("font-awesome-icon");return h(),g("div",{class:"menu-item",onMouseover:t[2]||(t[2]=r=>a.isOpen=!0),onMouseleave:t[3]||(t[3]=r=>a.isOpen=!1)},[s("div",{class:G(["menu-item__title",{"menu-item__title--select":a.isOpen}]),onClick:t[0]||(t[0]=r=>o.onCategory1Click(n.title))},[I(_(n.title)+" ",1),a.isOpen?(h(),g("div",je)):C("",!0)],2),m(V,{name:"fade",appear:""},{default:R(()=>[a.isOpen&&!o.isDropdownHide?(h(),g("div",Xe,[s("div",{class:"sub-menu__all",onClick:t[1]||(t[1]=r=>o.onCategory1Click(n.title))},[Ze,m(l,{icon:"chevron-right"})]),(h(!0),g(v,null,k(n.subItems,(r,u)=>(h(),g("div",{class:"sm-item",key:u,onClick:c=>o.onCategory2Click(n.title,r.title)},_(r.title),9,qe))),128))])):C("",!0)]),_:1})],32)}const $e=w(Qe,[["render",Ke],["__scopeId","data-v-d749e22f"]]);const et={components:{HeaderDropdown:$e},setup(){return{pCategoryStore:W()}},data(){return{isBgShow:!1,menuItems:[{title:"Thực phẩm chức năng"},{title:"Dược mỹ phẩm"},{title:"Chăm sóc cá nhân"},{title:"Thuốc"},{title:"Thiết bị y tế"},{title:"Sản phẩm nổi bật"}]}},methods:{onDropdownChange(e,t){this.isBgShow=e&&!t},getSubItems(e){const t=this.pCategoryStore.getCategories2(e);return t?t.map(n=>({title:n})):[]}}},tt={class:"nav"},st={class:"container"},ot={key:0,class:"nav-bg"};function nt(e,t,n,i,a,o){const l=A("header-dropdown");return h(),g("div",null,[s("div",tt,[s("div",st,[(h(!0),g(v,null,k(a.menuItems,(r,u)=>(h(),X(l,{key:u,onIsOpen:o.onDropdownChange,title:r.title,subItems:o.getSubItems(r.title)},null,8,["onIsOpen","title","subItems"]))),128))])]),a.isBgShow?(h(),g("div",ot)):C("",!0)])}const at=w(et,[["render",nt],["__scopeId","data-v-512fff3d"]]);const rt={components:{SquareSpinner:re},setup(){const e=W();let t=e.categories1;var n=[];for(let i of t){let a=e.getCategories2(i).map(o=>({category1:i,category2:o}));n.push(...a)}return{categories:n}},props:{isOpenSearch:{type:Boolean}},emits:["update:isOpenSearch"],data(){return{searchText:"",products:[],isSearching:!1,searchError:null,isSearchFocus:!1,openSearch:!1,recommendedItems:[{search:"aricamun",category1:"Dược mỹ phẩm"},{search:"Thanh nhiệt mát gan",category1:"Thực phẩm chức năng"},{search:"Zentokid",category1:"Thực phẩm chức năng"},{search:"Nước súc miệng",category1:"Chăm sóc cá nhân"},{search:"Obaby",category1:"Thực phẩm chức năng"}]}},mounted(){this.searchProducts(""),this.openSearch=this.isOpenSearch,console.log("mounted")},watch:{searchText(){this.onSearchTextChange()},isOpenSearch(e){this.openSearch=e},openSearch(e){this.$emit("update:isOpenSearch",e)}},computed:{filteredCategories(){return this.categories.filter(e=>e.category2.toLocaleLowerCase().includes(this.searchText.toLocaleLowerCase())).slice(0,6)}},methods:{searchProducts(e){const{products:t,isLoading:n,error:i}=Ae(e,5);this.products=t,this.isSearching=n,this.searchError=i},closeSearch(){this.searchText="",this.openSearch=!1},clearSearch(){this.searchText="",this.isSearchFocus=!1},showProductInfo(e){this.openSearch=!1,this.$router.push({name:Z.name,params:{id:e.id}})},showProductList2(e,t){this.openSearch=!1,H(e,t)},onCloseSearch(){this.openSearch=!1},onRecommendClick(e){this.openSearch=!1,q(e.category1,e.search)},onBgClick(e){e.target.classList.value.includes("search-bg")&&this.onCloseSearch()},onSearchTextChange:ie(function(){console.log("change",this.searchText),this.searchProducts(this.searchText)},500)}},it=e=>(O("data-v-a7fc9767"),e=e(),x(),e),ct={class:"search-container"},lt={class:"search-header"},ut={class:"search-result"},dt={class:"recommend"},ht={class:"recommend__title"},gt={class:"recommend-result"},mt=["onClick"],_t={class:"product-container"},pt={class:"search-result__title"},At={class:"product-list"},vt={key:0,class:"product-list__empty"},ft=["onClick"],yt={class:"product-item__img"},Ct={class:"product-item__name"},kt={class:"category-container"},St={class:"category__title"},bt={key:0,class:"product-list__empty"},It={class:"category-list"},Lt=["onClick"],Pt={class:"category-item__1"},Bt=it(()=>s("p",{class:"category-item__1"},"-",-1)),wt={class:"category-item__2"};function Tt(e,t,n,i,a,o){const l=A("font-awesome-icon"),r=A("square-spinner"),u=A("v-img");return a.openSearch?(h(),g("div",{key:0,class:"search-bg",id:"bg",onClick:t[5]||(t[5]=c=>o.onBgClick(c))},[s("div",ct,[s("div",lt,[s("div",{class:G(["search-bar",{"search-bar--focus":a.isSearchFocus}])},[s("div",{class:G(["search-bar__icon items-center",{"search-bar__icon--focus":a.isSearchFocus}])},[m(l,{icon:"search",size:"xl"})],2),K(s("input",{type:"text",class:"search-bar__input",placeholder:"Tìm kiếm sản phẩm, danh mục",onFocus:t[0]||(t[0]=c=>a.isSearchFocus=!0),onBlur:t[1]||(t[1]=c=>a.isSearchFocus=!1),"onUpdate:modelValue":t[2]||(t[2]=c=>a.searchText=c)},null,544),[[$,a.searchText]]),s("div",{class:G(["search-bar__close items-center",{"d-none":a.searchText==""||a.searchText===void 0||a.searchText===null}]),onClick:t[3]||(t[3]=c=>o.clearSearch())},[m(l,{icon:"close",size:"lg"})],2)],2),s("div",{class:"search-header__cancel items-center",onClick:t[4]||(t[4]=(...c)=>o.closeSearch&&o.closeSearch(...c))},"Đóng")]),s("div",ut,[s("div",dt,[s("div",ht,[m(l,{icon:"chart-line"}),I(" Top tìm kiếm ")]),s("div",gt,[(h(!0),g(v,null,k(a.recommendedItems,(c,d)=>(h(),g("div",{class:"recommend-item",key:d,onClick:b=>o.onRecommendClick(c)},_(c.search),9,mt))),128))])]),s("div",_t,[s("div",pt,[m(l,{icon:"pills"}),I(" Sản phẩm ")]),s("div",At,[m(r,{isLoading:a.isSearching,height:"128px"},null,8,["isLoading"]),!a.isSearching&&a.products.length===0?(h(),g("div",vt,[s("p",null,[I(" Không có sản phẩm phù hợp với "),s("strong",null,'"'+_(a.searchText)+'"',1)])])):C("",!0),(h(!0),g(v,null,k(a.products,(c,d)=>(h(),g("div",{class:"product-item",key:d,onClick:b=>o.showProductInfo(c)},[s("div",yt,[m(u,{src:c.imgUrl+"80"},null,8,["src"])]),s("p",Ct,_(c.name),1)],8,ft))),128))])]),s("div",kt,[s("div",St,[m(l,{icon:"list"}),I(" Danh mục ")]),o.filteredCategories.length===0?(h(),g("div",bt,[s("p",null,[I(" Không có danh mục phù hợp với "),s("strong",null,'"'+_(a.searchText)+'"',1)])])):C("",!0),s("div",It,[(h(!0),g(v,null,k(o.filteredCategories,(c,d)=>(h(),g("div",{class:"category-item",key:d,onClick:b=>o.showProductList2(c.category1,c.category2)},[s("p",Pt,_(c.category1),1),Bt,s("p",wt,_(c.category2),1)],8,Lt))),128))])])])])])):C("",!0)}const Nt=w(rt,[["render",Tt],["__scopeId","data-v-a7fc9767"]]);const Dt={components:{Navigation:ze,HeaderNavigation:at,SearchView:Nt},emits:["onShowNav"],setup(){return{buyProductHotline:Q}},data(){return{showNav:!1,isOpenSearch:!1}},methods:{onNavTap(){this.showNav=!this.showNav},onCloseNav(){this.showNav=!this.showNav},openHome(){this.$router.push({path:ee.path})},onFindStoreClick(){this.$router.push({path:te.path})},onRecruitmentClick(){window.open("https://tuyendung.upharma.vn/","_blank")},onPartnerClick(){this.$router.push({path:se.path})}},watch:{showNav(e){e?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="scroll"},isOpenSearch(e){e?document.documentElement.style.overflow="hidden":document.documentElement.style.overflow="scroll"}}},N=e=>(O("data-v-289737c6"),e=e(),x(),e),Et={class:"top-header d-none d-xl-flex"},Gt={class:"container"},Ot=N(()=>s("p",{class:"th-menu__title"},"Hệ thống cửa hàng",-1)),xt=N(()=>s("p",{class:"th-menu__title"},"Tuyển dụng",-1)),Ft=N(()=>s("p",{class:"th-menu__title"},"Nhà cung cấp",-1)),Ut={class:"header",style:{"z-index":"11"}},Rt={class:"container"},Vt={class:"logo"},Ht={class:"header-search__btn items-center"},Wt=["placeholder"],Jt={class:"header__menu"},Yt={class:"menu-item"},zt={class:"menu-item__icon items-center"},Qt={class:"menu-item__content"},Mt=N(()=>s("div",{class:"menu-item__title"},"Hotline mua hàng",-1)),jt={class:"menu-item__sub-title"},Xt={class:"menu-item"},Zt={class:"menu-item__icon items-center"},qt=N(()=>s("div",{class:"menu-item__content"},[s("div",{class:"menu-item__title"},"Tra cứu"),s("div",{class:"menu-item__sub-title"},"Lịch sử đơn hàng")],-1));function Kt(e,t,n,i,a,o){const l=A("font-awesome-icon"),r=A("navigation"),u=A("search-view"),c=A("header-navigation");return h(),g(v,null,[s("div",Et,[s("div",Gt,[s("div",{class:"th-menu",onClick:t[0]||(t[0]=(...d)=>o.onFindStoreClick&&o.onFindStoreClick(...d))},[m(l,{icon:"store"}),Ot]),s("div",{class:"th-menu",onClick:t[1]||(t[1]=(...d)=>o.onRecruitmentClick&&o.onRecruitmentClick(...d))},[m(l,{icon:"people-pulling"}),xt]),s("div",{class:"th-menu",onClick:t[2]||(t[2]=(...d)=>o.onPartnerClick&&o.onPartnerClick(...d))},[m(l,{icon:"handshake"}),Ft])])]),s("div",Ut,[s("div",Rt,[s("div",Vt,[s("img",{class:"logo__icon",onClick:t[3]||(t[3]=(...d)=>o.openHome&&o.openHome(...d)),src:ae}),s("img",{class:"logo__title",onClick:t[4]||(t[4]=(...d)=>o.openHome&&o.openHome(...d)),src:oe})]),s("div",{class:"header-search",onClick:t[6]||(t[6]=d=>a.isOpenSearch=!0)},[s("div",Ht,[m(l,{icon:"search",size:"lg",style:{color:"#fff"}})]),s("input",{type:"text",class:"header-search__input",placeholder:"Tìm kiếm ...",disabled:!0,onFocus:t[5]||(t[5]=d=>a.isOpenSearch=!0)},null,40,Wt)]),s("div",Jt,[s("div",Yt,[s("div",zt,[m(l,{icon:"phone",size:"2xl",style:{color:"white",width:"40px"}})]),s("div",Qt,[Mt,s("div",jt,_(i.buyProductHotline.display),1)])]),s("div",Xt,[s("div",Zt,[m(l,{icon:"clock-rotate-left",size:"2xl",style:{color:"white"}})]),qt])]),s("div",{class:"header__nav-btn items-center",onClick:t[7]||(t[7]=(...d)=>o.onNavTap&&o.onNavTap(...d))},[m(l,{icon:"bars",size:"2x",style:{color:"white"}})])]),m(r,{showNav:a.showNav,onOnCloseNav:o.onCloseNav},null,8,["showNav","onOnCloseNav"]),m(u,{isOpenSearch:a.isOpenSearch,"onUpdate:isOpenSearch":t[8]||(t[8]=d=>a.isOpenSearch=d)},null,8,["isOpenSearch"])]),m(c,{class:"d-none d-xl-flex",style:{"z-index":"10"}})],64)}const ds=w(Dt,[["render",Kt],["__scopeId","data-v-289737c6"]]);export{ds as W,ls as a,Y as b,ns as c,as as d,rs as e,is as f,us as g,cs as h,S as p,W as u};
