import{p as m,d as R,e as k,f as w,r as T,u as _,h as v,i as S,j as b,k as q,l as E,s as O,m as x,n as F,o as A,q as B}from"./fetch-u-api-ddfec103.js";import{H as f,I as p,_ as M,a as K,o as j,c as G,b as W,s as $}from"./index-c8d0b614.js";function te(e,n){const o={UserName:e,Password:n},{data:r,error:t,isLoading:a,post:s}=m(R,o),c=f("");return p(r,i=>{if(i.Token&&i.Info){const u=i.Info;c.value={token:i.Token,code:i.Info.NPPCode,username:i.Info.UserCode,companyName:u.NPPCode,contactName:u.FullName}}}),{partner:c,error:t,isLoading:a,reLogin:s}}function re(e,n,o){const r={NPPCode:n,Token:o,UserName:e},t=f(null),{data:a,error:s,isLoading:c,post:i}=m(k,r);return p(a,u=>{const d=u.Data;d&&(t.value=H(d))}),i(),{partnerInfo:t,isLoading:c,error:s,reGetPartnerInfo:i}}function ne(e){const n={UserName:e},o=f(""),{data:r,error:t,isLoading:a,isSuccess:s,post:c}=m(w,n);return p(r,i=>{i.Email&&(o.value=i.Email)}),c(),{email:o,error:t,isLoading:a,isSuccess:s,reGetPasswordOTP:c}}function oe(e,n){const o={OTPCode:n,UserName:e},{error:r,isLoading:t,isSuccess:a,post:s}=m(T,o);return s(),{error:r,isLoading:t,isSuccess:a}}function se(e,n,o){const r={Token:n,UserName:e,NPPInfo:o},{isLoading:t,error:a,isSuccess:s,post:c}=m(_,r);return c(),{isLoading:t,error:a,isSuccess:s,reUpdatePartnerInfo:c}}function ae(e){const n={CompanyEmail:e},{data:o,error:r,isLoading:t,post:a}=m(v,n);return a(),{error:r,isLoading:t,data:o,reGetOTP:a}}function ie(e,n){const o={NPPInfo:e,OTPCode:n};let r=f({}),t=f(!1);const{data:a,error:s,isLoading:c,post:i}=m(S,o);return p(a,u=>{u.UserName&&u.Token&&u.NPPCode&&(r.value.username=u.UserName,r.value.token=u.Token,r.value.code=u.NPPCode,t.value=!0)}),i(),{partner:r,error:s,isLoading:c,isSuccess:t,reRegisterPartner:i}}function ce(e,n,o,r=""){const t={NPPCode:n,PageNumber:1,RowNumber:100,Search:r,Token:o,UserName:e},{data:a,error:s,isLoading:c,post:i}=m(b,t);let u=f([]);return i(),p(a,d=>{const g=d.Data;g&&(u.value=g.map(L=>z(L)))}),{registrations:u,error:s,isLoading:c,reGetRegistrations:i}}function ue(e,n,o){const r={NPPCode:n,PageNumber:1,RowNumber:100,Token:o,UserName:e};let t=f(null);const{data:a,error:s,isLoading:c,post:i}=m(q,r);return i(),p(a,u=>{let d=u.Data;d&&(t.value=d.map(g=>U(g)))}),{products:t,error:s,isLoading:c,reGetPartnerProducts:i}}function de(e,n,o){const r={DocumentID:o,Token:n,UserName:e},t=f(!1),{data:a,error:s,isLoading:c,post:i}=m(E,r);return p(a,u=>{u&&(t.value=!0)}),i(),{error:s,isLoading:c,isSuccess:t,reDeleteRegistration:i}}function Pe(e,n,o,r){const t={HeaderInfo:{NPPCode:o,ProductLst:r.map(d=>V(d))},Token:n,UserName:e},a=f(!1),{data:s,error:c,isLoading:i,post:u}=m(O,t);return p(s,d=>{d&&(a.value=!0)}),u(),{error:c,isLoading:i,isSuccess:a,reSubmit:u}}function me(e,n,o,r){const t={FileName:r,NPPProductID:o,Token:n,UserName:e},{isSuccess:a,isLoading:s,error:c,post:i}=m(x,t);return i(),{error:c,isLoading:s,isSuccess:a,reDeleteImage:i}}function fe(e,n,o){const r={Token:n,UserName:e,NPPProductInfo:o},t=f(""),{isSuccess:a,isLoading:s,error:c,data:i,post:u}=m(F,r);return u(),p(i,d=>{d.NPPProductID&&(t.value=d.NPPProductID)}),{isSuccess:a,isLoading:s,error:c,productID:t,reCreatePartnerProduct:u}}function pe(e,n,o){const r={Token:n,UserName:e,NPPProductID:o.productID},{isLoading:t,isSuccess:a,error:s,post:c}=m(A,r);return c(),{isLoading:t,isSuccess:a,error:s,reDeletePartnerProduct:c}}function ge(e,n,o){const r={Token:n,UserName:e,NPPProductInfo:o},{isLoading:t,isSuccess:a,error:s,post:c}=m(B,r);return c(),{isLoading:t,isSuccess:a,error:s,reUpdatePartnerProduct:c}}function z(e){const n=e.ProductLst;var o=[];n&&(o=n.map(a=>U(a)));let r=e.Status;var t="";switch(r){case 1:t="Chờ phê duyệt";break;case 3:t="Đã phê duyệt";break;case 5:t="Bị huỷ";break}return{id:e.DocumentID,createdTime:e.TimeCreate,products:o,status:r,statusStr:t}}function U(e){let n=e.ImageLst.map(a=>a.split("&Ratio=")[0]+"&Ratio=");var o="";n&&n.length>0&&(o=n[0]);var r="";switch(e.Status){case 1:r="Tạo mới";break;case 2:r="Chỉnh sửa";break;case 3:r="Chờ xác nhận";break;case 5:r="Bị huỷ";break;case 10:r="Đã duyệt";break}return{id:e.RowID,productID:e.NPPProductID,name:e.ProductName,activeComponent:e.ActiveElement,storage:e.Condition,usage:e.EffectLst,category:e.ProductCategory,discount:e.ProductMoreInfo,packing:e.ProductSpecification,quantityWholesale:e.QuantityWholesale,registerNumber:e.RegisNumber,unit:e.UnitOfMeasure,vat:e.VAT,status:e.Status,origin:e.ProductCountry,discountPrice:e.PriceDivide,images:n,price:e.MoneyImport,firstImage:o,statusStr:r,branch:e.Supplier,promoPrice:e.PriceDivide}}function V(e){return{ActiveElement:e.activeComponent,Condition:e.storage,EffectLst:e.usage,MoneyImport:e.price,PriceDivide:e.promoPrice,ProductCategory:e.category,ProductCountry:e.origin,ProductMoreInfo:e.discount,ProductName:e.name,ProductSpecification:e.packing,QuantityWholesale:e.quantityWholesale,RegisNumber:e.registerNumber,Supplier:e.branch,UnitOfMeasure:e.unit,VAT:e.vat,NPPProductID:e.productID}}function H(e){return{businessField:e.BusinessAreas,businessForm:e.BusinessForm,companyAddress:e.CompanyAddress,companyCode:e.CompanyCode,companyWebsite:e.CompanyLink,companyEmail:e.CompanyMail,companyName:e.CompanyName,companyPhone:e.CompanyPhone,description:e.MoreInfo,email:e.PresentationEmail,name:e.PresentationName,phoneNumber:e.PresentationPhone,position:e.PresentationPosition,rowID:e.RowID,upharmaID:e.UpharmaID,code:e.NPPCode,file1:e.File1,file2:e.File2,file3:e.File3}}const Q={mounted(){document.documentElement.style.overflow="hidden"},unmounted(){document.documentElement.style.overflow="scroll"}},J={class:"loading-container items-center"};function X(e,n,o,r,t,a){const s=K("v-progress-circular");return j(),G("div",J,[W(s,{indeterminate:"",size:60,width:6,color:"white"})])}const le=M(Q,[["render",X],["__scopeId","data-v-4b0c6c74"]]);/*! js-cookie v3.0.1 | MIT */function l(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)e[r]=o[r]}return e}var Y={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function y(e,n){function o(t,a,s){if(!(typeof document>"u")){s=l({},n,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var i in s)s[i]&&(c+="; "+i,s[i]!==!0&&(c+="="+s[i].split(";")[0]));return document.cookie=t+"="+e.write(a,t)+c}}function r(t){if(!(typeof document>"u"||arguments.length&&!t)){for(var a=document.cookie?document.cookie.split("; "):[],s={},c=0;c<a.length;c++){var i=a[c].split("="),u=i.slice(1).join("=");try{var d=decodeURIComponent(i[0]);if(s[d]=e.read(u,d),t===d)break}catch{}}return t?s[t]:s}}return Object.create({set:o,get:r,remove:function(t,a){o(t,"",l({},a,{expires:-1}))},withAttributes:function(t){return y(this.converter,l({},this.attributes,t))},withConverter:function(t){return y(l({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var P=y(Y,{path:"/"});const N="partnerTokenKey",h="partnerCodeKey",I="partnerUserNameKey",C="companyNameKey",D="contactNameKey",Ne=$("partner",{state:()=>{let e=P.get(N)||null,n=P.get(h)||null,o=P.get(I)||null,r=P.get(C)||"",t=P.get(D)||"";return{token:e,code:n,username:o,companyName:r,contactName:t}},getters:{},actions:{setPartnerInfo(e,n,o,r,t){this.username=e,this.token=n,this.code=o,this.companyName=r,this.contactName=t,P.set(N,n),P.set(h,o),P.set(I,e),P.set(C,r),P.set(D,t)},clearPartnerInfo(){this.username=null,this.token=null,this.code=null,this.companyName="",this.contactName="",P.remove(I),P.remove(h),P.remove(N),P.remove(C),P.remove(D)}}});export{le as L,ie as a,ae as b,fe as c,me as d,ge as e,ce as f,ne as g,ue as h,de as i,pe as j,re as k,se as l,te as p,oe as r,Pe as s,Ne as u};
